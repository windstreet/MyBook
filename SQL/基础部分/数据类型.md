# 数据类型

### 一、数值类型

| 数值类型 | 类型名称 | 存储空间 | 数据范围 | 说明 |
| :----- | :----- | :-----  | :----- | :----- |
| 整数类型 | SMALLINT | 2字节 | -32 768~32 767 | 小范围整型 |
| 整数 | INT(INTEGER) | 4字节 | －2 147 483 648〜2 147 483 647 | 普通整型 |
| 整数 | BIGINT | 8字节 | -9 223 372 036 854 775 808 〜 9 223 372 036 854 775 807 | 大整型 |
| 浮点数类型 | REAL | 4字节 | 6 位十进制数字精度 | 浮点数类型 |
| 浮点数 | DOUBLE PRECISION | 8字节 | 15 位十进制数字精度 | 双精度浮点数类型 |
| 任意精度类型 | NUMERIC | 变长 | 任意 | 任意精度类型 |
| 序号类型 | SERIAL | 4字节 | 1 ~ +2 147 483 647 | 自增整数 |
| 序号 | BIGSERIAL | 8字节 | 1 ~ +9 223 372 036 854 775 807 | 大范围的自增整数 |

1. 整数类型
    - 三者在存储空间和数据范围上有所不同。    
    - 存储空间越小查询效率越高。

2. 浮点数类型
    - 浮点数表示小数。
    - PostgreSQL也支持使用标准的SQL语法，即：float和float(p)来声明非精确的数值类型，p表示可接受的精度。
    - REAL类型对应float(1)~float(24)，DOUBLE PRECISION对应float(25)~float(53)，未声明精度时将被当作DOUBLE PRECISION处理。

3. 任意精度类型
    - PostgreSQL中任意精度类型可存储最多1000位精度的数字并且准确地进行计算。
    - 非常适合用于货币金额和其它要求计算准确的数据。
    - 但是，NUMERIC类型的运算速度要比整数类型或者浮点数类型要慢很多。
    - 使用格式为：NUMERIC(M,N)。其中，M称为精度，表示总位数；N称为标度，表示小数位。M和N决定了NUMERIC的取值范围，当用户数据的精度超出指定精度时，会进行四舍五入处理。

4. 序号类型
    - 它并不是真正的类型，只是为在表中设置唯一标识做的概念上的便利。
    - ```sql
      CREATE TABLE tablename (
        colname SERIAL
      );

      -- 等价于：

      CREATE SEQUENCE tablename_colname_seq;
        CREATE TABLE tablename(
	    colname integer DEFAULT nextval('tablename_colname_seq') NOT NULL
      );
      ```
    - 类型名 SERIAL 和 SERIAL4 是等效的： 两个都创建 INTEGRE 字段。
    - 类型名 BIGSERIAL 和 SERIAL8 也一样，只不过它创建一个 BIGINT 字段。 
    - 如果你预计在表的生存期中使用的标识数目超过 231 个，那么你应该使用 BIGSERIAL。

---

### 二、日期时间类型

PostgreSQL保存日期时间格式的数据类型有多种，主要有：`TIME、DATE、TIMESTAMP、INTERVAL`。

日期时间类型输入像`字符串类型`输入一样，需要加`单引号`。

每种日期时间类型都有合法的取值范围，超出范围时系统会将“零”插入数据记录中。

| 类型名称 | 存储空间 | 数据范围 | 说明 | 分辨率 | 
| :----- | :----- | :-----  | :----- | :----- |
| TIME | 8字节 | 00:00:00 ~ 24:00:00 | 时间类型（只用于一天内的时间）［无时区］ | 1毫秒/14位 |
| TIME[with time zone] | 12字节 | 00:00:00+1359~24:00:00-1359 | 时间类型（只用于一天内的时间）［含时区］ | 1毫秒/14位 |
| DATE | 4字节 | 4713 BC~32767 AD | 只用于一天的日期 | 1天 |
| TIMESTAMP | 8字节 | 4713 BC~5874897 AD | 日期和时间［无时区］ | 1毫秒/14位 |
| TIMESTAMP[with time zone] | 8字节 | 4713 BC~5874897 AD | 日期和时间［含时区］| 1毫秒/14位 |
| INTERVAL | 12字节 | -178000000年~178000000年 | 时间间隔 | 1毫秒/14位 |


#### 2.1、时间类型
- 时间类型是TIME和TIME[with time zone]，默认情况下为不带时区（即:TIME）。
- 不带时区时间格式可接受输入方式有：`HH:MM:SS`、`HH:MM`、`HHMMSS`。
- 带时间格式输入可用系统的`NOW()`函数。
- 时间、时区输入参考如下。

##### 时间输入：
| 示例 | 描述 |
| :----- | :----- | 
| 04:05:06.789 | ISO 8601 |
| 04:05:06 | ISO 8601 |
| 04:05 | ISO 8601 |
| 040506 | ISO 8601 |
| 04:05 AM | 与 04:05 一样；AM 不影响数值 |
| 04:05 PM | 与 16:05 一样；输入小时数必须 <= 12 |
| 04:05:06.789-8 | ISO 8601 |
| 04:05:06-08:00 | ISO 8601 |
| 04:05-08:00 | ISO 8601 |
| 040506-08 | ISO 8601 |
| 04:05:06 PST | 用名字声明的时区 |

##### 时区输入：
| 示例 | 描述 |
| :----- | :----- | 
| PST | 太平洋标准时间（Pacific Standard Time） |
| -8:00 | ISO-8601 与 PST 的偏移 |
| -800 | ISO-8601 与 PST 的偏移 |
| -8 | ISO-8601 与 PST 的偏移 |
| zulu | 某军方对 UTC 的缩写 |
| z | zulu的缩写 |


#### 2.2、DATE类型
- 日期输入格式为：`YYYY-MM-DD`、`YYYYMMDD`。
- 可以使用`字符串或数字类型`的数据输入，符合DATE的日期格式即可。
- 可以使用`CURRENT_DATE`或`NOW()`插入当前系统时间。


#### 2.3、TIMESTAMP类型
- 其有效输入由日期和时间的联接组成，后面跟着一个可选的时区，一个可选的 AD 或者 BC。
- 时间戳输入格式为：`YYYY-MM-DD HH:MM:SS`。
- 带时区输入格式为：`2015-03-22 4:05:06 -8:00`。


#### 2.4、INTERVAL类型
INTERVAL类型输入格式如下：
```sql
quantity unit [quantity unit...] [direction]
```
- quantity 是一个数字或符号； 
- unit 是 second, minute, hour, day, week, month, year, decade, century, millennium, 或这些单位的缩写或复数； 
- direction 可以是 ago 或者为空。
- 符号 @ 是一个可选的东西。
- 不同的单位以及相应正确的符号都是隐含地增加。








