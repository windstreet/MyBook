# 如何构建基于docker的开发环境

Docker本来就是虚拟化技术，基于Docker来构建开发环境顺理成章。在Mac下以django开发环境的构建为例


## 一、基本思路

1. 创建一个用于开发Django App的目录   
```bash
mkdir django-example && cd django-example
```

2. 构建基本开发环境   
```bash
touch Dockerfile
touch pip.conf requirements.txt
```

`pip.conf` 文件填入以下内容，以便一会用pip安装Python 模块时使用阿里云镜像加速：

```
[global]
index-url = http://mirrors.aliyun.com/pypi/simple/

[install]
trusted-host=mirrors.aliyun.com
```

`requirements.txt` 文件中填入要安装的Python 模块：

```
django
```

编写构建开发环境的 `Dockerfile` 文件，填入以下内容：

```
# MAINTAINER        Lrw <666666666@qq.com>
# DOCKER-VERSION    18.09.2
#
# Dockerizing Python: Dockerfile for building python applications


FROM python:2.7.12
MAINTAINER Lrw <666666666@qq.com>

WORKDIR /usr/src/app

# 使用阿里云的pip镜像
COPY pip.conf /root/.pip/pip.conf 
COPY requirements.txt /usr/src/app/requirements.txt
RUN pip install -r /usr/src/app/requirements.txt

EXPOSE 8000

CMD ["bash"]
```

然后执行下面命令构建镜像：     
```bash
docker build -t lrw/django-example:0.1 .
```

构建成功后，执行 `docker images` 命令，可以查看到当前构建好的image     
```bash
docker images

REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
lrw/django-example   0.1                 b9f2e9c2a39a        44 seconds ago      701MB
```


3. 使用构建的image拉起开发环境

执行下面命令，可以以前台形式拉起django-example镜像的一个container：